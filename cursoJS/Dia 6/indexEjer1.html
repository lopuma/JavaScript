<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>FETC</title>
    <style>
        .container {
            border: 1px solid #CCC;
            padding: 8px;;
        }
        .container-fluid {
            padding: 18px;;
        }
    </style>
</head>
<body>
    <div class="container-fluid mb-3">
        <input class="form-control" type="file" id="formFile">
        <br>
        <button type="button" class="btn btn-primary" id="añadir">Añadir</button>
    </div>
    <div class="container">
    <table class="table table-bordered" id="lista-usuario">
        <thead class="table-dark caption-top">
            <tr>
            <th>MODULO</th>
            <th>CLAVE</th>
            <th>SO</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
        </tbody>
        <tfoot><h2>Lista de usuarios</h2></tfoot>
        <br>
      </table>
    </div>
    <script charset="UTF-8" src="modulos.json"></script>
    <script charset="UTF-8">
        const pathFile = document.querySelector("#formFile");
        const tabla = document.querySelector("#lista-usuario");
        const row = document.createElement('tr');
        const add = document.querySelector('#añadir');

        add.onclick = function(){
            path = pathFile.files[0].name;
            console.log(path);
            const url = "modulos.json";
            console.log(url);
            // fetch('/modulos.json')
            // .then(response => {
            //     return response.json();
            // })
            // .then(data => {
            //     console.log(data);
            // })
            // .catch(error => {
            //     console.error(error);
            // });
            // 
            leerDatos(path);
        }

        async function leerDatos(path) {
            const url = "/home/esy9f47u/Compliance/deviations/dataIssues/"+path
            console.log("URL : ", url)
            // let respuesta = await fetch(url);
            // let datos = await respuesta.json();
            // console.log(datos)
        }

    </script>
</body>
</html>